<?xml version="1.0" encoding="utf-8" ?>
<configuration>
	<appSettings>
		<add key="log4net.Internal.Debug" value="true"/>
	</appSettings>
	<log4net>
		
		<root>
			<level value="INFO"/>
			<appender-ref ref="RollingFile"/>
		</root>

		<appender name="RollingFile" type="log4net.Appender.RollingFileAppender">
			<file value="Logs/mylog.txt"/>
			<datePattern value="yyyy-MM-dd'-FULL.log'" />
			<appendToFile value="false"/>
			<preserveLogFileNameExtension value="true"/>
			<rollingStyle value="Size"/>
			<maximumFileSize value="2KB"/>
			<maxSizeRollBackups value="10"/>
			<staticLogFileName value="false"/>
			<layout type="log4net.Layout.PatternLayout">
				<param name="ConversionPattern" value="%date  %thread  %-5level  %logger - %message%newline"/>
			</layout>
		</appender>

		<appender name="EmailLogger" type="log4net.Appender.SmtpAppender">
			<to value="email@domain.com" />
			<from value="email@domain.com" />
			<subject value="Rehearse Password Alert" />
			<smtpHost value="smtp.mail.yahoo.com" />
			<authentication value="Basic" />
			<port value="465"/>
			<username value="email@domain.com" />
			<password value="********" />
			<bufferSize value="1" />
			<EnableSsl value="true"/>
			<lossy value="true" />
			<evaluator type="log4net.Core.LevelEvaluator">
				<threshold value="WARN"/>
			</evaluator>
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%newline%date [%thread] %-5level %logger [%property{NDC}] - %message%newline%newline%newline" />
			</layout>
		</appender>

	</log4net>

	<system.diagnostics>
		<trace autoflush="true">
			<listeners>
				<add
                    name="textWriterTraceListener"
                    type="System.Diagnostics.TextWriterTraceListener"
                    initializeData="C:\\tmp\\mylog.txt" />
			</listeners>

		</trace>
	</system.diagnostics>
</configuration>